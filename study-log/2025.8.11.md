# LinuC Level 1 学習ログ | 2025年8月11日

## 🎯 本日の学習サマリー

今日は、サーバー管理の根幹をなす**時刻管理**と**ログ管理**という2つの大きなテーマについて、ハンズオン形式で深く学習した。`timedatectl`コマンドを中心に、タイムゾーンの変更やNTPによる時刻同期を実践。また、`journalctl`でのログ調査、`rsyslog`でのログ分離、`logrotate`でのログファイル管理という、ログの発生から調査、整理、保存まで一連のライフサイクルを体系的に学んだ。

* **時刻管理**: `timedatectl`, システムクロックとハードウェアクロック、タイムゾーン、NTP (`chrony`)
* **ログ管理**: `journalctl` (調査), `rsyslog` (整理), `logger` (テスト), `logrotate` (管理)

---

## 🤔 テーマ別：学びと考察

### 1. サーバー時刻の体系的管理

* **新たな学び:**
    * LinuxにはOSが使う**システムクロック**と、マザーボード上の物理的な**ハードウェアクロック**の2種類があり、それぞれ役割が違うことを明確に理解した。
    * `timedatectl`は、時刻、タイムゾーン、NTP同期設定を統合的に管理できる、非常に強力で現代的なコマンドである。`timedatectl set-timezone`を実行するだけで、裏側で`/etc/localtime`へのシンボリックリンクが適切に更新されるなど、複雑な処理を自動化してくれる。
    * システムクロックの時刻をハードウェアクロックに書き込む`hwclock -w` (`--systohc`)の重要性を学んだ。これにより、正確な時刻をシャットダウン後も維持できる。
    * NTPによる自動同期を有効にするには`timedatectl set-ntp true`が便利で、その同期状態は`chronyc sources`で確認できる。

* **【気づき・思ったこと】**
    サーバーの時刻を「ニューヨークから東京へ」と変更するシナリオを通じて、タイムゾーンが単なる表示オフセットではなく、システム全体の動作に関わる重要な設定であることを実感した。これまで`date`コマンドくらいしか意識していなかったが、`timedatectl`という中心的なコマンドを知ったことで、時刻管理に関する操作を積極的に使用したいと思った。

### 2. ログ管理のライフサイクル

* **新たな学び:**
    * ログ管理には「**調査** (`journalctl`)」「**整理** (`rsyslog`)」「**管理** (`logrotate`)」という一連のサイクルがあることを体系的に理解できた。
    * `journalctl`は単なるログビューアではなく、`-u`（ユニット別）や`--since`（時間別）、`-b`（起動セッション別）といった強力なフィルタを持つ「ログの検索エンジン」である。
    * `rsyslog`を設定することで、`authpriv.*`（認証関連）のような重要なログを特定のファイルに分離でき、セキュリティ監査が格段にしやすくなる。テストには`logger`コマンドが非常に有効。
    * `logrotate`は、ログファイルがディスクを溢れさせないための必須ツール。特に、設定変更後に`logrotate -d`で**テスト実行（ドライラン）**できる機能は、本番環境で事故を防ぐために不可欠だと感じた。

* **【気づき・思ったこと】**
    今までは正直、ログを見ることがあっても眺めるだけのことが多かった。それが、ハンズオンで、`journalctl`で原因を探り、`rsyslog`でファイルを分け、`logrotate`で後片付けをする、という一連の流れを体験できたのが非常に良かった。これらのツールが連携して、堅牢なログシステムが成り立っていることがよく分かった。