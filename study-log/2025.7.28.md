# LinuC Level 1 学習ログ | 2025年7月28日

## 🎯 本日の学習サマリー

今日はLinuCの最後の大きなテーマである「セキュリティ」について学んだ。ファイルの基本的なパーミッション設定から、ACLを使った細かい権限管理、そしてSSHの公開鍵認証によるサーバーの要塞化まで、重要なセキュリティ設定を実際に手を動かして試した。

-   ファイルのパーミッション（`ls -l`, `chmod`）
-   アクセス制御リスト（`getfacl`, `setfacl`）
-   SSH公開鍵認証の設定（`ssh-keygen`, `ssh-copy-id`）
-   SSHサーバーの設定変更とサービスの再起動

---

## 🤔 テーマ別：学びと考察

### 1. ファイルの権限管理（パーミッションとACL）

-   **新たな学び:**
    -   ACL (アクセス制御リスト): 「所有者・グループ・その他」の枠を超えて、特定のユーザーやグループに個別の権限を設定する仕組み。
    -   `setfacl -m u:ユーザー名:権限`: 指定したユーザーに、ファイルへの権限を追加する。
    -   `getfacl`: 設定されているACLの詳細を確認する。

-   **【気づき・思ったこと】**
    ACLを使えば、「このファイルだけ、tanakaさんにも編集を許可する」といった柔軟な設定ができることに感動した。基本的なパーミッションだけでは実現できない、細かいニーズに応えるための仕組みなのだと感じた。

### 2. SSHのセキュリティ強化（公開鍵認証）

-   **以前の理解:**
    SSHで公開鍵認証ということは知っており、AWSでも使っていたため何となくでは分かっていた。しかし、キーペアの作成からはやったことがなかった。

-   **新たな学び:**
    -   `ssh-keygen`: ローカルPCで「秘密鍵」と「公開鍵」のペアを作成する。
    -   `ssh-copy-id`: 作成した公開鍵を、ログインしたいサーバーの`~/.ssh/authorized_keys`に安全に設置する。
    -   `/etc/ssh/sshd_config`: SSHサーバー自体の設定ファイル。`PasswordAuthentication no`にすることでパスワードでのログインを禁止できる。
    -   `systemctl restart ssh.service`: 設定変更を反映させるためにSSHサービスを再起動する（Ubuntuの場合）。

-   **【気づき・思ったこと】**
    「南京錠（公開鍵）をサーバーに置き、自分だけが持つ合鍵（秘密鍵）で開ける」という公開鍵認証の仕組みがよく理解できた。パスワード認証を無効にしたとき、サーバーのセキュリティレベルが一段上がった実感が湧いて、とても満足感があった。

---

## 🚀 次のアクション

-   自分で作ったディレクトリのパーミッションを`ls -ld`で確認してみる。
-   `setfacl`で、特定のユーザーから権限を削除する（`-x`オプション）方法を試す。
-   SSHの`sshd_config`ファイルには他にどのようなセキュリティ設定があるか（例: `PermitRootLogin`など）を調べてみる。
