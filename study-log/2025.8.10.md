# LinuC Level 1 学習ログ | 2025年8月10日

## 🎯 本日の学習サマリー

今日はハンズオンを行わず、試験対策の問題演習に集中する日とした。特に**サーバーセキュリティとサービス管理**という、LinuC 102の核心的なテーマに関する問題を徹底的に解き、知識の穴を洗い出して理解を深めることに注力した。SSHやGPGによる暗号化通信、firewalldによるパケットフィルタリング、lsofやfuserを使ったプロセス監視、そしてシステムログやメール転送の仕組みまで、多岐にわたるトピックを横断的に学習した。

* **セキュアな通信**: SSH（公開鍵認証、Agent/X11 Forwarding）、GnuPG（gpg）
* **ネットワークセキュリティ**: firewalld、nmap、inetd/xinetd（スーパーサーバー）
* **プロセスとリソースの監視**: lsof、fuser、w、who、last、ulimit
* **サービスとログ管理**: systemd以前のサービス管理（service, chkconfig）、rsyslog、メール転送（MTA, /etc/aliases, .forward）
* **アクセス制御と権限**: パスワードポリシー（chage）、sudo（visudo）、特殊権限（SUID/SGID）の検索

---

## 🤔 テーマ別：学びと考察

### 1. セキュアな通信とアクセス制御

* **以前の理解:**
    SSHでログインできる、firewalldでポートを開ける、といった断片的な知識が中心だった。

* **問題演習からの学び:**
    -   SSHの奥深さ: `ssh-keygen`で鍵ペアを作り、`~/.ssh/authorized_keys`に公開鍵を置くという一連の流れが、問題形式で問われることで明確になった。`-A`（Agent Forwarding）や`-X`（X11 Forwarding）といったオプションが、それぞれ「踏み台先のサーバーから更にSSHする」「GUIアプリを転送する」という具体的な課題を解決するためのものだと理解できた。
    -   `firewalld`のゾーンベース思考: 単にポートを開け閉めするだけでなく、「このサーバーはどのネットワークゾーンに属し、どういう役割を持つのか（public, workなど）」を定義してからルールを設定するという考え方が新鮮だった。また、`--permanent`を付けないと再起動で設定が消える、という仕様はテストで頻出する重要ポイントだと認識した。
    -   パスワードポリシーの強制: `chage`コマンドを使うことで、「パスワードの有効期限」や「有効期限が切れる前のアラート日数」などをユーザーごとに細かく設定できることを学んだ。これは組織のセキュリティポリシーをシステムに反映させるための重要なツールだと感じた。

* **【気づき・思ったこと】**
    セキュリティは、一つのツールで完結するのではなく、SSHによる「通信路の暗号化」、firewalldによる「入口の防御」、GPGによる「データそのものの暗号化」、chageによる「認証情報の管理」といった、複数の層（レイヤー）で守られていることを強く実感した。

### 2. システムの監視とサービス管理

* **以前の理解:**
    `ps`や`top`でプロセスを見ることはできたが、「このファイルを使っているプロセスは何か？」といった逆引きの調査方法を知らなかった。

* **問題演習からの学び:**
    -   強力な探偵ツール`lsof`と`fuser`: 「このポートを使っているプロセスは？（`lsof -i :22`）」や、「このファイルを掴んでいてアンマウントできない原因のプロセスは？（`fuser /mnt`）」といった、トラブルシューティングに直結する使い方を学んだ。さらに`fuser -k`でプロセスを強制終了できることも知った。
    -   `inetd`/`xinetd`（スーパーサーバー）の存在意義: `telnet`や`ftp`のように、常時起動しておくほどではないが、リクエストがあった時だけサービスを起動する、というリソース節約のための仕組みだと理解した。`systemd`が主流の今ではあまり使われないが、Linuxの歴史と設計思想を知る上で興味深い。
    -   ログの集中管理: `rsyslog`の設定で、`*.* @logserver`や`*.* @@logserver`と記述することで、ログを別のサーバーに転送できることを学んだ（`@`がUDP、`@@`がTCP）。これにより、複数のサーバーのログを一箇所で監査・分析できる。

* **【気づき・思ったこと】**
    サーバー管理とは、ただサービスを動かすだけでなく、「今、サーバー内部で何が起きているのか」を正確に把握し続けることなのだと痛感した。
